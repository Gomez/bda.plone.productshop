<div xmlns="http://www.w3.org/1999/xhtml"
     xml:lang="en"
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:i18n="http://xml.zope.org/namespaces/i18n"
     i18n:domain="bda.plone.productshop"
     class="product_listing"
     ajax:bind="render_product_listing"
     tal:define="products view/products;
                 uid context/UID;
                 css string:product_listing_${uid}"
     tal:condition="products"
     tal:attributes="class string:product_listing ${css};
                     ajax:target context/absolute_url;
                     ajax:action string:bda.plone.productshop.listing:.${css}:replace">

  <div class="product" tal:repeat="product products">

    <img src="" alt=""
         tal:condition="product/preview"
         tal:replace="structure product/preview" />
    <img src="++resource++dummy_listing_product.jpg"
         alt="preview"
         class="product_listing_image"
         tal:condition="not:product/preview" />

    <div class="product_info">
      <h3 tal:content="product/obj/Title">Title</h3>
      <p tal:content="product/obj/Description">Description</p>
      <a href=""
         tal:attributes="href product/obj/absolute_url">
        more...
      </a>
    </div>

    <div class="visualClear"><!--  --></div>

    <tal:buyable
      tal:condition="product/buyable_controls"
      replace="structure product/obj/@@buyable_controls" />

  </div>
</div>
